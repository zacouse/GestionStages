
@{
    ViewData["Title"] = "ListeRestriction";
}

<div style="font-size:36px;padding-top:5%" class="light-blue-text  row">
    <div class="col s12">
        <i style="font-size:48px;vertical-align:middle;" class="material-icons orange-text">dehaze</i>
        @lang.ListeRestriction
    </div>
    <div class="col xl5 l7 m8 s12">
        <hr />
    </div>
</div>


<ul class="collapsible">
    <li class="active">
        <div class="collapsible-header">@lang.FiltreDeRecherche</div>
        <div class="collapsible-body">
            <form name="searchform" method="post" action="@Url.Action("ListeRestriction", "Restriction")">
                <div class="input-field col  m6 s12">
                    @Html.TextBox("txtTitre", "")
                    <label for="txtTitre">@lang.Titre</label>
                </div>

                <div class="input-field col  m6 s12">
                    @Html.TextBox("txtDescr", "")
                    <label for="txtDescr">@lang.Description</label>
                </div>
                <div class="col s12 m3 l2">
                    <label>Etat</label>
                    <div class="input-field row">
                        <p>
                            <label>
                                @Html.CheckBox("chkIsActive", true, new { @class = "filled-in" })
                                <span>@lang.Actif</span>
                            </label>
                        </p>
                    </div>
                    <div class="input-field row">
                        <p>
                            <label>
                                @Html.CheckBox("chkIsInactive", true, new { @class = "filled-in" })
                                <span>@lang.Inactif</span>
                            </label>
                        </p>
                    </div>
                </div>
                <div class="col s5 m8 l10 right-align">
                    <a class="btn green darken-1 white-text" href="javascript:document.searchform.submit();">@lang.Rechercher<i class="material-icons right hide-on-small-and-down">search</i></a>
                </div>
            </form>
        </div>
    </li>
</ul>

<table class="highlight">
    <thead>
        <tr>
            <td>@lang.Titre</td>
            <td>@lang.Description</td>
            <td>@lang.Voir</td>
        </tr>
    </thead>
    <tbody>
        @{
            List<Restriction> lesRestrictions = ViewBag.lesRestrictions;
            for (int i = 0; i < lesRestrictions.Count; i++)
            {
                <tr ondblclick="location.href='@Url.Action("ViewRestriction", "Restriction", new { id = lesRestrictions[i].IDRestriction })'">
                    <td>@lesRestrictions[i].Titre</td>
                    <td>@lesRestrictions[i].Description</td>
                    <td><a href="@Url.Action("ViewRestriction", "Restriction", new { id = lesRestrictions[i].IDRestriction })"><i class="material-icons orange-text">remove_red_eye</i></a></td>
                </tr>
            }
        }
    </tbody>
</table>

<div class="row" style="padding-top:5px;">
    <div class="col push-l1 l2 s2"><a class="btn grey" href="@Url.Action("Index", "Home")">@lang.Retour</a></div>
    <div class="col push-l8 l2 s2 push-s8"><a class="btn green" href="@Url.Action("ViewRestriction", "Restriction")">@lang.Ajouter<i class="material-icons right hide-on-small-and-down">add</i></a></div>
</div>

@section Scripts
{
    <script>
        $(document).ready(function () {
            $('.collapsible').collapsible();
        });
    </script>
}

<style>
    .ui-state-active {
        background: none;
        background-color: orange;
        color: white;
    }

    [type="checkbox"].filled-in:checked + span:not(.lever):after {
        background-color: orange;
        border: 2px solid grey;
    }
</style>
